<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
int[0, 1] req1, req2;
int[1, 2] turn;</declaration><template><name x="5" y="5">MutexTemp01</name><parameter>const int[1, 2] me, int[0, 1] &amp;req_self, int[0, 1] &amp;req_other</parameter><declaration>// Place local declarations here.
</declaration><location id="id0" x="72" y="16"><name x="88" y="16">wait</name></location><location id="id1" x="-112" y="16"><name x="-144" y="16">CS</name></location><location id="id2" x="72" y="-160"><name x="62" y="-190">want</name></location><location id="id3" x="-112" y="-160"><name x="-122" y="-190">idle</name></location><init ref="id3"/><transition><source ref="id1"/><target ref="id3"/><label kind="assignment" x="-172" y="-72">req1:=0</label></transition><transition><source ref="id0"/><target ref="id1"/><label kind="assignment" x="-48" y="64">req2==0</label><nail x="8" y="56"/><nail x="-64" y="56"/></transition><transition><source ref="id0"/><target ref="id1"/><label kind="guard" x="-48" y="-56">turn==1</label><nail x="16" y="-32"/><nail x="-56" y="-32"/></transition><transition><source ref="id2"/><target ref="id0"/><label kind="assignment" x="80" y="-96">turn:=2</label></transition><transition><source ref="id3"/><target ref="id2"/><label kind="assignment" x="-48" y="-184">req1:=1</label></transition></template><template><name x="5" y="5">MutexTemp02</name><parameter>const int[1, 2] me, int[0, 1] &amp;req_self, int[0, 1] &amp;req_other</parameter><declaration>// Place local declarations here.
</declaration><location id="id4" x="72" y="16"><name x="88" y="16">wait</name></location><location id="id5" x="-112" y="16"><name x="-144" y="16">CS</name></location><location id="id6" x="72" y="-160"><name x="62" y="-190">want</name></location><location id="id7" x="-112" y="-160"><name x="-122" y="-190">idle</name></location><init ref="id7"/><transition><source ref="id5"/><target ref="id7"/><label kind="assignment" x="-172" y="-72">req2:=0</label></transition><transition><source ref="id4"/><target ref="id5"/><label kind="assignment" x="-48" y="64">req1==0</label><nail x="8" y="56"/><nail x="-64" y="56"/></transition><transition><source ref="id4"/><target ref="id5"/><label kind="guard" x="-48" y="-56">turn==2</label><nail x="16" y="-32"/><nail x="-56" y="-32"/></transition><transition><source ref="id6"/><target ref="id4"/><label kind="assignment" x="80" y="-96">turn:=1</label></transition><transition><source ref="id7"/><target ref="id6"/><label kind="assignment" x="-48" y="-184">req2:=1</label></transition></template><template><name x="5" y="5">Mutex</name><parameter>const int[1, 2] me, int[0, 1] &amp;req_self, int[0, 1] &amp;req_other</parameter><declaration>// Place local declarations here.
</declaration><location id="id8" x="72" y="16"><name x="88" y="16">wait</name></location><location id="id9" x="-112" y="16"><name x="-144" y="16">CS</name></location><location id="id10" x="72" y="-160"><name x="62" y="-190">want</name></location><location id="id11" x="-112" y="-160"><name x="-122" y="-190">idle</name></location><init ref="id11"/><transition><source ref="id9"/><target ref="id11"/><label kind="assignment" x="-192" y="-72">req_self:=0</label></transition><transition><source ref="id8"/><target ref="id9"/><label kind="assignment" x="-48" y="64">req_other==0</label><nail x="8" y="56"/><nail x="-64" y="56"/></transition><transition><source ref="id8"/><target ref="id9"/><label kind="guard" x="-48" y="-56">turn==me</label><nail x="16" y="-32"/><nail x="-56" y="-32"/></transition><transition><source ref="id10"/><target ref="id8"/><label kind="assignment" x="80" y="-96">turn:=(me == 1 ? 2:1)</label></transition><transition><source ref="id11"/><target ref="id10"/><label kind="assignment" x="-48" y="-184">req_self:=1</label></transition></template><system>// Place template instantiations here.
Mutex01 = MutexTemp01(1, req1, req2);
Mutex02 = MutexTemp02(2, req2, req1);

// List one or more processes to be composed into a system.
system Mutex01, Mutex02;</system></nta>